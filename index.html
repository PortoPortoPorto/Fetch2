 
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Fetch API Intro</title>
</head>
<body>
	<button id= "get-text">Get Text </button>
	<button id= "get-text-arrow">Get Text Arrow</button>
	<button id= "get-users">Get JSON</button>
	<button id= "get-posts">Get API DATA</button>
	<hr>
	<div id = "output"></div>
	<form id = "addPost"> 
		<div>
			<input type = "text" id = "title" placeholder = "title"> 
		</div>
		<div>
			<textarea  id = "body" placeholder = "body"></textarea>
		</div>
		<input type = "submit" value = "submit">
	</form>


	<script>
		document.querySelector('#get-text').addEventListener('click', getText);
		document.querySelector('#get-text-arrow').addEventListener('click', getTextArrow); 
		document.querySelector('#get-users').addEventListener('click', getUsers);
		document.querySelector('#get-posts').addEventListener('click', getPosts);
// Old school style
		function getText() {
			fetch('sample.txt') 
			.then(function(response) {
				return response.text(); 
			})
			.then(function(data){
				console.log(data); 
			});
		}
// arrow function style
		function getTextArrow() {
			fetch('sample.txt')
			.then((response) => response.text())
			.then((data) => {
				document.querySelector('#output').innerHTML = data; 
			})
			//error catch 
			.catch((err) => console.log(err))
		}

		function getUsers() {
			fetch('users.json')
			.then((response) => response.json())
			.then((data) => {
				let output = '<h2>Users</h2>'; 
				console.log(data); 
				data.forEach(function(user){
					output += `
						<ul>
							<li>ID:${user.id}</li>
							<li>Name:${user.name}</li>
							<li>Email:${user.email}</li>
						</ul>
					`; 
				});
				document.querySelector('#output').innerHTML = output; 
			})
		}


		function getPosts() {
			fetch('https://jsonplaceholder.typicode.com/posts')
				.then((response) => response.json())
				.then((json) => {
					console.log(json); 
					let output = '<h2>Posts</h2>'; 
					json.forEach(function(post){
						output += `
							<div>	
								<h3>${post.title}</h3>
								<p>${post.body}</p>
							</div>
						`;
					});
					document.querySelector('#output').innerHTML = output; 
				})

		}

	</script>
</body>
</html>